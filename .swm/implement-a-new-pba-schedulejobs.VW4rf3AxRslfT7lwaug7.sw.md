---
id: VW4rf3AxRslfT7lwaug7
name: Implement a new PBA â€”  `ScheduleJobs`
file_version: 1.0.2
app_version: 0.9.8-4
file_blobs:
  monkey/infection_monkey/post_breach/actions/schedule_jobs.py: d6cdd27659373080f09d74420882314e8c2de1f5
---

You need to implement the `ScheduleJobs` PBA which creates scheduled jobs on the machine. <br><br> <img src="https://media.giphy.com/media/l0K4mVE5b5WZ1sctW/giphy.gif" height=175><br><br> The commands that add scheduled jobs for Windows and Linux can be retrieved from `get_commands_to_schedule_jobs` â€” make sure you understand how to use this function correctly.

## Manual test

Once you think you're done...

*   Run the Monkey Island
    
*   Make sure the "Job scheduling" PBA is enabled in the "Monkey" tab in the configuration â€” for this test, disable network scanning, exploiting, and all other PBAs
    
*   Run the Monkey
    
*   Make sure you see the PBA with its results in the Security report as well as in the ATT&CK report under the relevant MITRE technique

<br/>



<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ monkey/infection_monkey/post_breach/actions/schedule_jobs.py
```python
â¬œ 4      from infection_monkey.post_breach.pba import PBA
â¬œ 5      
â¬œ 6      
ðŸŸ© 7      class ScheduleJobs(PBA):
ðŸŸ© 8          """
ðŸŸ© 9          This PBA attempts to schedule jobs on the system.
ðŸŸ© 10         """
ðŸŸ© 11     
ðŸŸ© 12         def __init__(self):
ðŸŸ© 13             linux_cmds, windows_cmds = get_commands_to_schedule_jobs()
ðŸŸ© 14     
ðŸŸ© 15             super(ScheduleJobs, self).__init__(name=POST_BREACH_JOB_SCHEDULING,
ðŸŸ© 16                                                linux_cmd=' '.join(linux_cmds),
ðŸŸ© 17                                                windows_cmd=windows_cmds)
ðŸŸ© 18     
ðŸŸ© 19             remove_scheduled_jobs()
ðŸŸ© 20     
```

<br/>

Many other PBAs are as simple as this one, using shell commands or scripts â€” see `Timestomping` and `AccountDiscovery`. <br><br>

However, for less straightforward ones, you can override functions and implement new classes depending on what is required â€” see `SignedScriptProxyExecution` and `ModifyShellStartupFiles`.<br><br>

This PBA, along with all the other PBAs, will run on a system after it has been breached. The purpose of this code is to test whether target systems allow attackers to schedule jobs, which they could use to run malicious code at some specified date and time.

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBYmFja2VuZC1zd2ltbSUzQSUzQXJpY2FyZG9sb3Blemc=/docs/VW4rf3AxRslfT7lwaug7).